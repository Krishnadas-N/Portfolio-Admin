<div class="container mx-auto px-2 py-2">
  <div class="bg-white rounded-xl shadow-lg overflow-hidden mb-4">
    <app-add-skill></app-add-skill>
  </div>

  <div
    class="container mx-auto p-6 bg-gradient-to-r from-[#f3f4f6] to-[#e2e8f0] rounded-xl shadow-xl"
  >
    <!-- Loop through categories -->
    @for (category of categories; track $index) {
    <div class="mb-10">
      <div class="category-header">
        <div class="icon-left">
          <i class="fas fa-code text-[#308e87] text-2xl"></i>
        </div>
        <h2 class="text-2xl font-bold text-[#308e87]">
          {{ category.name }}
        </h2>
        <div class="icon-right">
          <i class="fas fa-cogs text-[#308e87] text-2xl"></i>
        </div>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        @for (skill of category.skills; track $index) {
        <div class="relative">
          <div
            class="skill-card border border-[#308e87] hover:border-[#256e69] rounded-lg shadow-xl transition-all ease-in-out transform hover:scale-105 p-6 bg-[#ffffff]"
          >
            <!-- Skill Options (3 dots) -->
            <div class="absolute top-3 right-3">
              <button
                (click)="toggleMenu(skill)"
                class="text-[#308e87] hover:text-[#256e69] focus:outline-none"
              >
                <i class="fas fa-ellipsis-v text-2xl"></i>
              </button>
              @if (skill.showMenu) {
              <div
                class="absolute right-2 top-0 bg-white shadow-xl rounded-lg mt-2 w-40 p-2 opacity-90 z-10"
              >
                <button
                  (click)="editSkill(skill)"
                  class="block px-4 py-2 text-sm text-blue-600 hover:bg-blue-100 w-full text-left flex items-center"
                >
                  <i class="fas fa-edit mr-2"></i> Edit
                </button>
                <button
                  (click)="hideSkill(skill)"
                  class="block px-4 py-2 text-sm text-yellow-600 hover:bg-yellow-100 w-full text-left flex items-center"
                >
                  <i class="fas fa-eye-slash mr-2"></i> Hide
                </button>
                <button
                  (click)="deleteSkill(skill)"
                  class="block px-4 py-2 text-sm text-red-600 hover:bg-red-100 w-full text-left flex items-center"
                >
                  <i class="fas fa-trash-alt mr-2"></i> Delete
                </button>
              </div>
              }
            </div>

            <!-- Skill Content -->
            <div class="flex items-center mb-4">
              <div
                class="w-16 h-16 rounded-full overflow-hidden border-2 border-[#308e87]"
              >
                <img
                  [src]="skill.logo || defaultLogo"
                  alt="Skill Logo"
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="ml-4">
                <h3 class="text-xl font-semibold text-[#333]">
                  {{ skill.name }}
                </h3>
                <p class="text-sm text-[#666]">{{ skill.category }}</p>
              </div>
            </div>
            <p class="text-sm text-[#666]">
              Level:
              <span class="font-semibold text-[#308e87]">{{
                skill.level
              }}</span>
            </p>
          </div>
        </div>
        }
      </div>
    </div>
    }
  </div>
</div>
